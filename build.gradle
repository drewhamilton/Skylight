buildscript {
    ext.versions = [
        kotlin: '1.4.10',
        retrofit: '2.9.0',
    ]
    ext.deps = [
        junit: "junit:junit:4.13",
        kotlinReflect: "org.jetbrains.kotlin:kotlin-reflect:$versions.kotlin",
        mockito: 'org.mockito:mockito-inline:2.28.2',
        mockitoKotlin: 'com.nhaarman.mockitokotlin2:mockito-kotlin:2.2.0',
        moshi: 'com.squareup.moshi:moshi-kotlin:1.10.0',
        okHttpMockWebServer: 'com.squareup.okhttp3:mockwebserver:3.14.9',
        retrofit: "com.squareup.retrofit2:retrofit:$versions.retrofit",
        retrofitMoshiConverter: "com.squareup.retrofit2:converter-moshi:$versions.retrofit",
    ]
    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$versions.kotlin"
        classpath 'org.jetbrains.dokka:dokka-gradle-plugin:0.10.1'
        classpath 'org.jetbrains.kotlinx:binary-compatibility-validator:0.2.3'

        classpath 'dev.drewhamilton.extracare:extracare-gradle-plugin:0.3.0'

        classpath 'com.android.tools.build:gradle:4.0.1'
    }
    repositories {
        mavenCentral()
        maven { url = 'https://kotlin.bintray.com/kotlinx' }
        maven { url = 'https://dl.bintray.com/kotlin/dokka' }

        // Android:
        google()
        maven { url = 'https://jetbrains.bintray.com/trove4j' }
    }
}

apply plugin: 'binary-compatibility-validator'
apiValidation {
    ignoredProjects += ['nothing']
}

allprojects {
    repositories {
        mavenCentral()
        maven { url = 'https://dl.bintray.com/kotlin/dokka' }

        // Android:
        google()
        maven { url = 'https://jetbrains.bintray.com/trove4j' }
    }
}

task clean(type: Delete) {
    delete rootProject.buildDir
}
